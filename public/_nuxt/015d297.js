(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{490:function(t,r,e){"use strict";e.r(r);e(13),e(81),e(12),e(104),e(10),e(101),e(30),e(31),e(15),e(16),e(14),e(27),e(119),e(40),e(11),e(62);var c=e(3),n=e(61);function o(object,t){var r=Object.keys(object);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(object);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),r.push.apply(r,e)}return r}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(r){Object(c.a)(t,r,source[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(source,r))}))}return t}var l={name:"Product",head:{title:"Product - Project Z"},transition:"fade",data:function(){return{id:"",nameProduct:"",regularPrice:"",salePrice:"",quantity:"",description:"",imageProduct:null,categoryName:"",categoryId:"",arrCart:[],success:!1,fail:!1}},created:function(){"undefined"!=typeof window&&(this.arrCart=JSON.parse(localStorage.getItem("cart")||"[]")),this.productCurrent&&(this.nameProduct=this.productCurrent.name,this.regularPrice=this.productCurrent.regularPrice,this.salePrice=this.productCurrent.salePrice,this.quantity=this.productCurrent.quantity,this.description=this.productCurrent.description,this.categoryId=this.productCurrent.categoryId,this.categoryName=this.productCurrent.categoryName,this.imageProduct=this.productCurrent.image,this.id=this.productCurrent.id)},watch:{arrCart:function(){localStorage.setItem("cart",JSON.stringify(this.arrCart))},success:function(){var t=this;setTimeout((function(){t.success=!1}),2e3)},fail:function(){var t=this;setTimeout((function(){t.fail=!1}),2e3)}},computed:d(d({},Object(n.c)({getProducts:function(t){return t.Product.products}})),{},{productCurrent:function(){var t=this;return this.getProducts.find((function(r){return r.id==t.$route.fullPath.split("?id=")[1]}))}}),methods:{addToCart:function(){if(this.arrCart.map((function(t){return t.id})).includes(this.id))for(var i in this.arrCart)this.arrCart[i].id==this.id&&(this.arrCart[i].quantity<this.quantity?(this.arrCart[i].quantity+=1,localStorage.setItem("cart",JSON.stringify(this.arrCart)),this.success=!0):this.fail=!0);else this.arrCart.push({nameProduct:this.nameProduct,regularPrice:this.regularPrice,salePrice:this.salePrice,quantity:1,imageProduct:this.imageProduct,categoryName:this.categoryName,categoryId:this.categoryId,id:this.id,quantityProduct:this.quantity}),this.success=!0}}},h=e(49),component=Object(h.a)(l,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"product"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 col-12"},[e("b-img",{attrs:{src:t.imageProduct}})],1),t._v(" "),e("div",{staticClass:"col-md-6 col-12"},[e("h1",[t._v(t._s(t.nameProduct))]),t._v(" "),e("h5",[t._v("SKU: "+t._s(this.$route.fullPath.split("?id=")[1]))]),t._v(" "),e("h5",[t._v("Category: "+t._s(t.categoryName))]),t._v(" "),t.quantity>0?e("h5",[t._v("Quantity: "+t._s(t.quantity))]):t._e(),t._v(" "),0==t.quantity?e("h5",[t._v("Out of stock")]):t._e(),t._v(" "),e("h3",[t._v("Price: "+t._s(t.regularPrice))]),t._v(" "),e("p",[t._v(t._s(t.description))]),t._v(" "),e("b-button",{staticClass:"btn-primary",attrs:{size:"lg",disabled:0==t.quantity},on:{click:t.addToCart}},[t._v("Add to cart")]),t._v(" "),1==t.fail?e("b-alert",{staticClass:"mt-3 py-1 px-3",attrs:{show:"",variant:"danger"}},[t._v("Your cart is full!")]):t._e(),t._v(" "),1==t.success?e("b-alert",{staticClass:"mt-3 py-1 px-3",attrs:{show:"",variant:"primary"}},[t._v("Success")]):t._e()],1)])])])}),[],!1,null,null,null);r.default=component.exports}}]);